<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mixed Signal Hardware Design</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header id="header">
        <h1>Designing a Mixed Signal Printed Circuit Board - Part 4 (Signal Processing)</h1>
        <p>January 8, 2024</p>
    </header>

    <section id="main">
        <h2>Analog-to-Digital Converter (ADC)</h2>
        <img src="https://raw.githubusercontent.com/moehambouta/Mixed-Signal-PCB/website/assets/adc.png" alt="ADC Schematic">
        <p>
            The ADC subsystem is a crucial element of the board's mixed-signal capabilities, enabling the conversion of analog signals into digital form for further processing. The design features a 14-bit Successive Approximation Register (SAR) ADC, selected for its high resolution and sample-and-hold capabilities, which are ideal for precision measurements within the audio band.
        </p>
        <p>
            The analog front-end consists of an input stage with a BNC connector, facilitating easy and secure connection to external analog sources. This stage is equipped with a PED35D3V3UBA,1.15 ESD protection diode, ensuring the longevity of the device by safeguarding against electrostatic discharge. Additionally, the input passes through a series resistor (RJ300) and an RF filter, which attenuates unwanted high-frequency noise above 1.3 MHz.
        </p>
        <p>
            The signal is then processed through a buffer amplifier (U300), which uses a MCP6001 operational amplifier known for its rail-to-rail output and low bias currents. The buffer helps to present a low impedance to the subsequent stages and is followed by a high-pass filter to eliminate DC offset and low-frequency drift.
        </p>
        <p>
            The conditioned signal is finally passed to a third-order Butterworth low-pass filter with a cut-off frequency of 25 kHz. This anti-aliasing filter, implemented using another MCP6001 op-amp (U301), is essential to ensure that the Nyquist criterion is satisfied and to prevent high-frequency signals from aliasing into the passband of interest.
        </p>
        <p>
            The ADC itself (U303), a ADC14155, is provided with a stable reference voltage (Vref) via a dedicated reference voltage buffer (U302). The Vref is filtered to remove high-frequency noise, assuring the ADC's accuracy and stability. The ADC's power supply is decoupled using capacitors (C314, C315) to minimize noise on the power rails.
        </p>
        <p>
            Digital output from the ADC is interfaced with the microcontroller via an SPI bus, with lines for data output (DOUT), serial clock (SCLK), and chip select (CS). A resistor (R509) ensures the proper selection of the ADC when commanded by the MCU.
        </p>

        <h2>Digital-to-Analog Converter (DAC)</h2>
        <img src="https://raw.githubusercontent.com/moehambouta/Mixed-Signal-PCB/website/assets/dac.png" alt="DAC Schematic">
        <p>
            The DAC section of the design is centered around a high-performance DAC7563DGSR, a 12-bit digital-to-analog converter, which is instrumental for converting digital signals back into analog form. This component was selected for its dual-channel capability, providing two analog outputs, and its integral nonlinearity (INL) which ensures high precision in the conversion process.
        </p>
        <p>
            Power decoupling is achieved through capacitors C400 and C401, which filter out noise from the power supply to ensure a clean and stable voltage for the DAC operations. This is crucial to maintain the fidelity of the analog signals being generated.
        </p>
        <p>
            The DAC is interfaced with the microcontroller through a Serial Peripheral Interface (SPI), with connections for data input (DIN), serial clock (SCLK), and chip select (SYNC). A dedicated line for the DAC's clear function (DAC_NCLR) is provided, enabling the system to reset the DAC output to a known state if necessary.
        </p>
        <p>
            The output from the DAC is processed by an operational amplifier (U400), configured to remove any DC offset and ensure the signal is centered around the op-amp bias. This configuration allows for the full range of the DAC to be utilized effectively. Resistors R402 and R403, along with capacitor C403, form a Butterworth low-pass filter with a cutoff frequency of 25kHz. This filter is crucial for eliminating any high-frequency components that may have been introduced during the digital-to-analog conversion process, which is particularly important for maintaining signal integrity in audio applications.
        </p>
        <p>
            Following the filtering stage, the signal is then sent to a buffer amplifier (U401), another MCP6001, which provides a low output impedance and drives the output connector (BNC) directly. This is vital for ensuring that the analog signal can be transmitted effectively to external devices or systems without degradation.
        </p>
        <p>
            The output BNC connector is protected against electrostatic discharge (ESD) with a PED35D3V3UBA,1.15 diode, safeguarding the DAC's outputs and ensuring that the device's longevity is not compromised by ESD events.
        </p>
        <p>
            In summary, the DAC section is designed with careful consideration for noise suppression, signal integrity, and output protection. This ensures that the digital-to-analog conversion delivers high-quality analog signals suitable for a wide range of applications.
        </p>

        <p>
            <span>Next post: </span>
            <a href="pcb.html">Final PCB 3D Model</a>
        </p>
    </section>
    </section>

    <script src="script.js"></script>
</body>
</html>
